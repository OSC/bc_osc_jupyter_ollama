---
cluster:
  - "cardinal"
form:
  - auto_accounts
  - mode
  - working_dir
  - bc_num_hours
  - node_type
  - gpus
  - num_cores
  - jupyter_version
  - bc_email_on_started
attributes:
  jupyter_version:
    widget: 'select'
    options:
      - [
          '4.1.5', '4.1.5',
        ]
  mode:
    widget: "radio"
    value: "1"
    options:
      - ["Jupyter Lab", "1"]
      - ["Jupyter Notebook", "0"]
  working_dir:
    widget: "path_selector"
    label: "Root Directory"
    show_hidden: false
    show_files: false   # Only display directories
    help: "Select your project directory; defaults to $HOME"
  num_cores:
    widget: "number_field"
    label: "Number of cores"
    value: 1
    help: |
      Number of cores on node type. Minimums and maximums will change
      depending on the choice of node type and cluster.
    min: 1
    max: 28
    step: 1
  node_type:
    widget: select
    label: "Node type"
    help: |
      - **any** - (*96 cores*) Use any available Cardinal node. This reduces the
        wait time as there are no node requirements.
      - **any gpu** - (*96 cores*) Use a Cardinal node that has [NVIDIA NVIDIA H100
        GPUs](https://www.nvidia.com/en-us/data-center/h100/). Recommended for faster LLM processing.
        Select 1 for the number of GPUs, as Ollama only supports running on a single GPU. 
    options:
      - [
          "any",     "any",
          data-hide-gpus: true,
          data-min-num-cores-for-cluster-pitzer: 1,
          data-max-num-cores-for-cluster-pitzer: 48,
          data-min-num-cores-for-cluster-ascend: 1,
          data-max-num-cores-for-cluster-ascend: 118,
          data-min-num-cores-for-cluster-cardinal: 1,
          data-max-num-cores-for-cluster-cardinal: 96,
          data-option-for-cluster-kubernetes: false,
          data-option-for-cluster-kubernetes-test: false,
          data-option-for-cluster-kubernetes-dev: false
        ]
      - [
          "any gpu",     "gpu",
          data-min-num-cores-for-cluster-pitzer: 1,
          data-max-num-cores-for-cluster-pitzer: 48,
          data-option-for-cluster-kubernetes: false,
          data-option-for-cluster-kubernetes-test: false,
          data-option-for-cluster-kubernetes-dev: false,
          data-min-num-cores-for-cluster-ascend: 1,
          data-max-num-cores-for-cluster-ascend: 118,
          data-min-num-cores-for-cluster-cardinal: 1,
          data-max-num-cores-for-cluster-cardinal: 96,
        ]
  gpus:
    widget: number_field
    min: 0
    max: 4
    value: 1
